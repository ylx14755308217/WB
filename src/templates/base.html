<!DOCTYPE html>
<html>
  <head>
    <title>迷你微博</title>

    <link rel="icon" href="/static/img/logo.png" />
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css" />

    <style>
      body {
        padding-top: 70px;
      }
      h2 {
        margin: 20px 0;
      }
      .transparent-bg {
        background-color: transparent;
      }
    </style>

    <!-- 某些页面独有的页面样式 -->
    {% block ext_css %}{% endblock %}
  </head>

  <body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <div class="collapse navbar-collapse">
          <a class="navbar-brand" href="/">
            <img src="/static/img/logo.png" width="30" />
            迷你微博
          </a>

          <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item {% if request.path in ['/', '/weibo/list'] %}active{% endif %}">
              <a class="nav-link" href="/">首页</a>
            </li>

            <li class="nav-item {% if request.path == '/user/followee' %}active{% endif %}">
              <a class="nav-link" href="/user/followee">关注的人</a>
            </li>

            <li class="nav-item {% if request.path == '/user/fans' %}active{% endif %}">
              <a class="nav-link" href="/user/fans">粉丝列表</a>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            {% if 'uid' in session %}
            <li class="nav-item active">
              <a class="nav-link" href="/weibo/post">发微博</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link text-danger" href="/user/logout">退出</a>
            </li>
            {% else %}
            <li class="nav-item active">
              <a class="nav-link" href="/user/register">注册</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="/user/login">登陆</a>
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>

    <!-- 页面主体 -->
    <div class="container">
      <div class="row">
        <!-- 内容区 -->
        <div class="col-9">
          {% block content %}{% endblock %}
        </div>

        <!-- 边栏 -->
        <div class="col">
          {% block sidebar %}{% endblock %}
        </div>
      </div>
    </div>

    <!-- JS -->
    <script src="/static/js/jquery-3.5.1.slim.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/popper.min.js"></script>
  </body>
</html>